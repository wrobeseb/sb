<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:h="http://java.sun.com/jsf/html"
			    xmlns:f="http://java.sun.com/jsf/core"
			    xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
			    template="/WEB-INF/layouts/page.xhtml">

  <ui:define name="content">
  	<h:form id="builder">
  		<fieldset style="border: 0; padding: 0; margin-top: 5px;">
			<legend>
				Builder
			</legend>
	  		<div class="span-20 prepend-top">
	  			<div class="span-5 first append-1">
	  				<h:outputLabel for="builderCommand_selectedOrderFields" value="Orders"/>
					<h:selectManyMenu id="builderCommand_selectedOrderFields" value="#{builderCommand.selectedOrderFields}">
						<a4j:support event="onchange" action="valueChangeAction" bypassUpdate="true" reRender="#{flowRenderFragments}"/>
						<f:selectItems value="#{builderCommand.orderFields}"/>
					</h:selectManyMenu>
				</div>
				<div class="span-3" style="padding-right: 70px;">
					<h:outputLabel for="builderCommand_selectedOrderInteractionFields" value="Order_Interactions"/>
					<h:selectManyMenu id="builderCommand_selectedOrderInteractionFields" value="#{builderCommand.selectedOrderInteractionFields}" style="width:180px; height: 170px;">
						<a4j:support event="onchange" action="valueChangeAction" bypassUpdate="true" reRender="#{flowRenderFragments}"/>
						<f:selectItems value="#{builderCommand.orderInteractionFields}" />
					</h:selectManyMenu>
				</div>
				<div class="span-3" style="padding-right: 65px;">
					<h:outputLabel for="builderCommand_selectedOrderContractsFields" value="Order_Contracts"/>
					<h:selectManyMenu id="builderCommand_selectedOrderContractsFields" value="#{builderCommand.selectedOrderContractsFields}" style="width: 175px; height: 170px;">
						<a4j:support event="onchange" action="valueChangeAction" bypassUpdate="true" reRender="#{flowRenderFragments}"/>
						<f:selectItems value="#{builderCommand.orderContractsFields}"/>
					</h:selectManyMenu>
				</div>
				<div class="span-4">
					<div class="span-4 first">
						<h:outputLabel for="builderCommand_selectedOrderHistoryChangesFields" value="Order_History_Changes"/>
						<h:selectManyMenu id="builderCommand_selectedOrderHistoryChangesFields" value="#{builderCommand.selectedOrderHistoryChangesFields}" style="width: 170px; height: 70px;">
							<a4j:support event="onchange" action="valueChangeAction" bypassUpdate="true" reRender="#{flowRenderFragments}"/>
							<f:selectItems value="#{builderCommand.orderHistoryChangesFields}"/>
						</h:selectManyMenu>
					</div>
					<div class="span-4 first">
						<h:outputLabel for="builderCommand_selectedOrderHistorySysChanges" value="Order_History_Sys_Changes"/>
						<h:selectManyMenu id="builderCommand_selectedOrderHistorySysChanges" value="#{builderCommand.selectedOrderHistorySysChanges}" style="width: 170px; height: 70px;">
							<a4j:support event="onchange" action="valueChangeAction" bypassUpdate="true" reRender="#{flowRenderFragments}"/>
							<f:selectItems value="#{builderCommand.orderHistorySysChanges}"/>
						</h:selectManyMenu>
					</div>
				</div>
			</div>
			<a4j:outputPanel id="queryPanel">
				<h:inputTextarea class="textarea span-20" id="builderCommand_query" value="#{builderCommand.query}" style="white-space: nowrap;"/>
			</a4j:outputPanel>
			<div class="submit">
				<h:commandButton action="execute" value="Uruchom"></h:commandButton>
			</div>
		</fieldset>
	</h:form>
  </ui:define>
</ui:composition>